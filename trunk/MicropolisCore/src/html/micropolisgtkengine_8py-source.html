<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Micropolis: pyMicropolis/micropolisEngine/micropolisgtkengine.py Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>pyMicropolis/micropolisEngine/micropolisgtkengine.py</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment"># micropolisgtkengine.py</span>
<a name="l00002"></a>00002 <span class="comment">#</span>
<a name="l00003"></a>00003 <span class="comment"># Micropolis, Unix Version.  This game was released for the Unix platform</span>
<a name="l00004"></a>00004 <span class="comment"># in or about 1990 and has been modified for inclusion in the One Laptop</span>
<a name="l00005"></a>00005 <span class="comment"># Per Child program.  Copyright (C) 1989 - 2007 Electronic Arts Inc.  If</span>
<a name="l00006"></a>00006 <span class="comment"># you need assistance with this program, you may contact:</span>
<a name="l00007"></a>00007 <span class="comment">#   http://wiki.laptop.org/go/Micropolis  or email  micropolis@laptop.org.</span>
<a name="l00008"></a>00008 <span class="comment">#</span>
<a name="l00009"></a>00009 <span class="comment"># This program is free software: you can redistribute it and/or modify</span>
<a name="l00010"></a>00010 <span class="comment"># it under the terms of the GNU General Public License as published by</span>
<a name="l00011"></a>00011 <span class="comment"># the Free Software Foundation, either version 3 of the License, or (at</span>
<a name="l00012"></a>00012 <span class="comment"># your option) any later version.</span>
<a name="l00013"></a>00013 <span class="comment">#</span>
<a name="l00014"></a>00014 <span class="comment"># This program is distributed in the hope that it will be useful, but</span>
<a name="l00015"></a>00015 <span class="comment"># WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00016"></a>00016 <span class="comment"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00017"></a>00017 <span class="comment"># General Public License for more details.  You should have received a</span>
<a name="l00018"></a>00018 <span class="comment"># copy of the GNU General Public License along with this program.  If</span>
<a name="l00019"></a>00019 <span class="comment"># not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00020"></a>00020 <span class="comment">#</span>
<a name="l00021"></a>00021 <span class="comment">#             ADDITIONAL TERMS per GNU GPL Section 7</span>
<a name="l00022"></a>00022 <span class="comment">#</span>
<a name="l00023"></a>00023 <span class="comment"># No trademark or publicity rights are granted.  This license does NOT</span>
<a name="l00024"></a>00024 <span class="comment"># give you any right, title or interest in the trademark SimCity or any</span>
<a name="l00025"></a>00025 <span class="comment"># other Electronic Arts trademark.  You may not distribute any</span>
<a name="l00026"></a>00026 <span class="comment"># modification of this program using the trademark SimCity or claim any</span>
<a name="l00027"></a>00027 <span class="comment"># affliation or association with Electronic Arts Inc. or its employees.</span>
<a name="l00028"></a>00028 <span class="comment">#</span>
<a name="l00029"></a>00029 <span class="comment"># Any propagation or conveyance of this program must include this</span>
<a name="l00030"></a>00030 <span class="comment"># copyright notice and these terms.</span>
<a name="l00031"></a>00031 <span class="comment">#</span>
<a name="l00032"></a>00032 <span class="comment"># If you convey this program (or any modifications of it) and assume</span>
<a name="l00033"></a>00033 <span class="comment"># contractual liability for the program to recipients of it, you agree</span>
<a name="l00034"></a>00034 <span class="comment"># to indemnify Electronic Arts for any liability that those contractual</span>
<a name="l00035"></a>00035 <span class="comment"># assumptions impose on Electronic Arts.</span>
<a name="l00036"></a>00036 <span class="comment">#</span>
<a name="l00037"></a>00037 <span class="comment"># You may not misrepresent the origins of this program; modified</span>
<a name="l00038"></a>00038 <span class="comment"># versions of the program must be marked as such and not identified as</span>
<a name="l00039"></a>00039 <span class="comment"># the original program.</span>
<a name="l00040"></a>00040 <span class="comment">#</span>
<a name="l00041"></a>00041 <span class="comment"># This disclaimer supplements the one included in the General Public</span>
<a name="l00042"></a>00042 <span class="comment"># License.  TO THE FULLEST EXTENT PERMISSIBLE UNDER APPLICABLE LAW, THIS</span>
<a name="l00043"></a>00043 <span class="comment"># PROGRAM IS PROVIDED TO YOU "AS IS," WITH ALL FAULTS, WITHOUT WARRANTY</span>
<a name="l00044"></a>00044 <span class="comment"># OF ANY KIND, AND YOUR USE IS AT YOUR SOLE RISK.  THE ENTIRE RISK OF</span>
<a name="l00045"></a>00045 <span class="comment"># SATISFACTORY QUALITY AND PERFORMANCE RESIDES WITH YOU.  ELECTRONIC ARTS</span>
<a name="l00046"></a>00046 <span class="comment"># DISCLAIMS ANY AND ALL EXPRESS, IMPLIED OR STATUTORY WARRANTIES,</span>
<a name="l00047"></a>00047 <span class="comment"># INCLUDING IMPLIED WARRANTIES OF MERCHANTABILITY, SATISFACTORY QUALITY,</span>
<a name="l00048"></a>00048 <span class="comment"># FITNESS FOR A PARTICULAR PURPOSE, NONINFRINGEMENT OF THIRD PARTY</span>
<a name="l00049"></a>00049 <span class="comment"># RIGHTS, AND WARRANTIES (IF ANY) ARISING FROM A COURSE OF DEALING,</span>
<a name="l00050"></a>00050 <span class="comment"># USAGE, OR TRADE PRACTICE.  ELECTRONIC ARTS DOES NOT WARRANT AGAINST</span>
<a name="l00051"></a>00051 <span class="comment"># INTERFERENCE WITH YOUR ENJOYMENT OF THE PROGRAM; THAT THE PROGRAM WILL</span>
<a name="l00052"></a>00052 <span class="comment"># MEET YOUR REQUIREMENTS; THAT OPERATION OF THE PROGRAM WILL BE</span>
<a name="l00053"></a>00053 <span class="comment"># UNINTERRUPTED OR ERROR-FREE, OR THAT THE PROGRAM WILL BE COMPATIBLE</span>
<a name="l00054"></a>00054 <span class="comment"># WITH THIRD PARTY SOFTWARE OR THAT ANY ERRORS IN THE PROGRAM WILL BE</span>
<a name="l00055"></a>00055 <span class="comment"># CORRECTED.  NO ORAL OR WRITTEN ADVICE PROVIDED BY ELECTRONIC ARTS OR</span>
<a name="l00056"></a>00056 <span class="comment"># ANY AUTHORIZED REPRESENTATIVE SHALL CREATE A WARRANTY.  SOME</span>
<a name="l00057"></a>00057 <span class="comment"># JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF OR LIMITATIONS ON IMPLIED</span>
<a name="l00058"></a>00058 <span class="comment"># WARRANTIES OR THE LIMITATIONS ON THE APPLICABLE STATUTORY RIGHTS OF A</span>
<a name="l00059"></a>00059 <span class="comment"># CONSUMER, SO SOME OR ALL OF THE ABOVE EXCLUSIONS AND LIMITATIONS MAY</span>
<a name="l00060"></a>00060 <span class="comment"># NOT APPLY TO YOU.</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="comment">########################################################################</span>
<a name="l00064"></a>00064 <span class="comment"># Micropolis GTK Engine</span>
<a name="l00065"></a>00065 <span class="comment"># Don Hopkins</span>
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="comment">########################################################################</span>
<a name="l00069"></a>00069 <span class="comment"># Import stuff</span>
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="keyword">import</span> micropolisgenericengine
<a name="l00073"></a>00073 <span class="keyword">import</span> micropolisengine
<a name="l00074"></a>00074 <span class="keyword">import</span> gobject
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="comment">########################################################################</span>
<a name="l00078"></a>00078 <span class="comment"># MicropolisGTKEngine Class</span>
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="keyword">class </span>MicropolisGTKEngine(micropolisgenericengine.MicropolisGenericEngine):
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     messages = [
<a name="l00085"></a>00085         <span class="stringliteral">''</span>,
<a name="l00086"></a>00086         <span class="stringliteral">'More residential zones needed.'</span>, <span class="comment"># 1</span>
<a name="l00087"></a>00087         <span class="stringliteral">'More commercial zones needed.'</span>,
<a name="l00088"></a>00088         <span class="stringliteral">'More industrial zones needed.'</span>,
<a name="l00089"></a>00089         <span class="stringliteral">'More roads required.'</span>,
<a name="l00090"></a>00090         <span class="stringliteral">'Inadequate rail system.'</span>, <span class="comment"># 5</span>
<a name="l00091"></a>00091         <span class="stringliteral">'Build a power plant.'</span>,
<a name="l00092"></a>00092         <span class="stringliteral">'Residents demand a stadium.'</span>,
<a name="l00093"></a>00093         <span class="stringliteral">'Industry requires a sea port.'</span>,
<a name="l00094"></a>00094         <span class="stringliteral">'Commerce requires an airport.'</span>,
<a name="l00095"></a>00095         <span class="stringliteral">'Pollution very high.'</span>, <span class="comment"># 10</span>
<a name="l00096"></a>00096         <span class="stringliteral">'Crime very high.'</span>,
<a name="l00097"></a>00097         <span class="stringliteral">'Frequent traffic jams reported.'</span>,
<a name="l00098"></a>00098         <span class="stringliteral">'Citizens demand a fire department.'</span>,
<a name="l00099"></a>00099         <span class="stringliteral">'Citizens demand a police department.'</span>,
<a name="l00100"></a>00100         <span class="stringliteral">'Blackouts reported. Check power map.'</span>, <span class="comment"># 15</span>
<a name="l00101"></a>00101         <span class="stringliteral">'Citizens upset. The tax rate is too high.'</span>,
<a name="l00102"></a>00102         <span class="stringliteral">'Roads deteriorating, due to lack of funds.'</span>,
<a name="l00103"></a>00103         <span class="stringliteral">'Fire departments need funding.'</span>,
<a name="l00104"></a>00104         <span class="stringliteral">'Police departments need funding.'</span>,
<a name="l00105"></a>00105         <span class="stringliteral">'Fire reported !'</span>, <span class="comment"># 20</span>
<a name="l00106"></a>00106         <span class="stringliteral">'A monster has been sighted !!'</span>,
<a name="l00107"></a>00107         <span class="stringliteral">'Tornado reported !!'</span>,
<a name="l00108"></a>00108         <span class="stringliteral">'Major earthquake reported !!!'</span>,
<a name="l00109"></a>00109         <span class="stringliteral">'A plane has crashed !'</span>,
<a name="l00110"></a>00110         <span class="stringliteral">'Shipwreck reported !'</span>, <span class="comment"># 25</span>
<a name="l00111"></a>00111         <span class="stringliteral">'A train crashed !'</span>,
<a name="l00112"></a>00112         <span class="stringliteral">'A helicopter crashed !'</span>,
<a name="l00113"></a>00113         <span class="stringliteral">'Unemployment rate is high.'</span>,
<a name="l00114"></a>00114         <span class="stringliteral">'YOUR CITY HAS GONE BROKE!'</span>,
<a name="l00115"></a>00115         <span class="stringliteral">'Firebombing reported !'</span>, <span class="comment"># 30</span>
<a name="l00116"></a>00116         <span class="stringliteral">'Need more parks.'</span>,
<a name="l00117"></a>00117         <span class="stringliteral">'Explosion detected !'</span>,
<a name="l00118"></a>00118         <span class="stringliteral">'Insufficient funds to build that.'</span>,
<a name="l00119"></a>00119         <span class="stringliteral">'Area must be bulldozed first.'</span>,
<a name="l00120"></a>00120         <span class="stringliteral">'Population has reached 2,000.'</span>, <span class="comment"># 35</span>
<a name="l00121"></a>00121         <span class="stringliteral">'Population has reached 10,000.'</span>,
<a name="l00122"></a>00122         <span class="stringliteral">'Population has reached 50,000.'</span>,
<a name="l00123"></a>00123         <span class="stringliteral">'Population has reached 100,000.'</span>,
<a name="l00124"></a>00124         <span class="stringliteral">'Population has reached 500,000.'</span>,
<a name="l00125"></a>00125         <span class="stringliteral">'Brownouts, build another power plant.'</span>, <span class="comment"># 40</span>
<a name="l00126"></a>00126         <span class="stringliteral">'Heavy traffic reported.'</span>,
<a name="l00127"></a>00127         <span class="stringliteral">'Flooding reported !!'</span>,
<a name="l00128"></a>00128         <span class="stringliteral">'A nuclear meltdown has occurred !!!'</span>,
<a name="l00129"></a>00129         <span class="stringliteral">'They\'re rioting in the streets !!'</span>,
<a name="l00130"></a>00130         <span class="stringliteral">'Started a new city.'</span>, <span class="comment"># 45</span>
<a name="l00131"></a>00131         <span class="stringliteral">'Restored a saved city.'</span>,
<a name="l00132"></a>00132         <span class="stringliteral">'You won the scenario!'</span>,
<a name="l00133"></a>00133         <span class="stringliteral">'You lost the scenario.'</span>,
<a name="l00134"></a>00134         <span class="stringliteral">'About Micropolis.'</span>,
<a name="l00135"></a>00135         <span class="stringliteral">'Scenario: DULLSVILLE, USA  1900.'</span>, <span class="comment"># 50</span>
<a name="l00136"></a>00136         <span class="stringliteral">'Scenario: SAN FRANCISCO, CA.  1906.'</span>,
<a name="l00137"></a>00137         <span class="stringliteral">'Scenario: HAMBURG, GERMANY  1944.'</span>,
<a name="l00138"></a>00138         <span class="stringliteral">'Scenario: BERN, SWITZERLAND  1965.'</span>,
<a name="l00139"></a>00139         <span class="stringliteral">'Scenario: TOKYO, JAPAN  1957.'</span>,
<a name="l00140"></a>00140         <span class="stringliteral">'Scenario: DETROIT, MI.  1972.'</span>, <span class="comment"># 55</span>
<a name="l00141"></a>00141         <span class="stringliteral">'Scenario: BOSTON, MA.  2010.'</span>,
<a name="l00142"></a>00142         <span class="stringliteral">'Scenario: RIO DE JANEIRO, BRAZIL  2047.'</span>, <span class="comment"># 57</span>
<a name="l00143"></a>00143     ]
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     notices = {
<a name="l00147"></a>00147 
<a name="l00148"></a>00148         10: {
<a name="l00149"></a>00149             <span class="stringliteral">'id'</span>: 10,
<a name="l00150"></a>00150             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00151"></a>00151             <span class="stringliteral">'title'</span>: <span class="stringliteral">'POLLUTION ALERT!'</span>,
<a name="l00152"></a>00152             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Pollution in your city has exceeded the maximum allowable amounts established by the Micropolis Pollution Agency. You are running the risk of grave ecological consequences.</span>
<a name="l00153"></a>00153 <span class="stringliteral"></span>
<a name="l00154"></a>00154 <span class="stringliteral">Either clean up your act or open a gas mask concession at city hall."""</span>,
<a name="l00155"></a>00155         },
<a name="l00156"></a>00156 
<a name="l00157"></a>00157         11: {
<a name="l00158"></a>00158             <span class="stringliteral">'id'</span>: 11,
<a name="l00159"></a>00159             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00160"></a>00160             <span class="stringliteral">'title'</span>: <span class="stringliteral">'CRIME ALERT!'</span>,
<a name="l00161"></a>00161             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Crime in your city is out of hand. Angry mobs are looting and vandalizing the central city. The president will send in the national guard soon if you cannot control the problem."""</span>,
<a name="l00162"></a>00162         },
<a name="l00163"></a>00163 
<a name="l00164"></a>00164         12: {
<a name="l00165"></a>00165             <span class="stringliteral">'id'</span>: 12,
<a name="l00166"></a>00166             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00167"></a>00167             <span class="stringliteral">'title'</span>: <span class="stringliteral">'TRAFFIC WARNING!'</span>,
<a name="l00168"></a>00168             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Traffic in this city is horrible. The city gridlock is expanding. The commuters are getting militant.</span>
<a name="l00169"></a>00169 <span class="stringliteral"></span>
<a name="l00170"></a>00170 <span class="stringliteral">Either build more roads and rails or get a bulletproof limo."""</span>,
<a name="l00171"></a>00171         },
<a name="l00172"></a>00172 
<a name="l00173"></a>00173         20: {
<a name="l00174"></a>00174             <span class="stringliteral">'id'</span>: 20,
<a name="l00175"></a>00175             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00176"></a>00176             <span class="stringliteral">'title'</span>: <span class="stringliteral">'FIRE REPORTED!'</span>,
<a name="l00177"></a>00177             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A fire has been reported!"""</span>,
<a name="l00178"></a>00178         },
<a name="l00179"></a>00179 
<a name="l00180"></a>00180         21: {
<a name="l00181"></a>00181             <span class="stringliteral">'id'</span>: 21,
<a name="l00182"></a>00182             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00183"></a>00183             <span class="stringliteral">'title'</span>: <span class="stringliteral">'MONSTER ATTACK!'</span>,
<a name="l00184"></a>00184             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A large reptilian creature has been spotted in the water. It seems to be attracted to areas of high pollution. There is a trail of destruction wherever it goes.</span>
<a name="l00185"></a>00185 <span class="stringliteral"></span>
<a name="l00186"></a>00186 <span class="stringliteral">All you can do is wait till he leaves, then rebuild from the rubble."""</span>,
<a name="l00187"></a>00187             <span class="stringliteral">'sprite'</span>: micropolisengine.SPRITE_MONSTER,
<a name="l00188"></a>00188         },
<a name="l00189"></a>00189 
<a name="l00190"></a>00190         22: {
<a name="l00191"></a>00191             <span class="stringliteral">'id'</span>: 22,
<a name="l00192"></a>00192             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00193"></a>00193             <span class="stringliteral">'title'</span>: <span class="stringliteral">'TORNADO ALERT!'</span>,
<a name="l00194"></a>00194             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A tornado has been reported! There's nothing you can do to stop it, so you'd better prepare to clean up after the disaster!"""</span>,
<a name="l00195"></a>00195             <span class="stringliteral">'sprite'</span>: micropolisengine.SPRITE_TORNADO,
<a name="l00196"></a>00196         },
<a name="l00197"></a>00197 
<a name="l00198"></a>00198         23: {
<a name="l00199"></a>00199             <span class="stringliteral">'id'</span>: 23,
<a name="l00200"></a>00200             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00201"></a>00201             <span class="stringliteral">'title'</span>: <span class="stringliteral">'EARTHQUAKE!'</span>,
<a name="l00202"></a>00202             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A major earthquake has occurred! Put out the fires as quickly as possible, before they spread, then reconnect the power grid and rebuild the city."""</span>,
<a name="l00203"></a>00203         },
<a name="l00204"></a>00204 
<a name="l00205"></a>00205         24: {
<a name="l00206"></a>00206             <span class="stringliteral">'id'</span>: 24,
<a name="l00207"></a>00207             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00208"></a>00208             <span class="stringliteral">'title'</span>: <span class="stringliteral">'PLANE CRASH!'</span>,
<a name="l00209"></a>00209             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A plane has crashed!"""</span>,
<a name="l00210"></a>00210         },
<a name="l00211"></a>00211 
<a name="l00212"></a>00212         25: {
<a name="l00213"></a>00213             <span class="stringliteral">'id'</span>: 25,
<a name="l00214"></a>00214             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00215"></a>00215             <span class="stringliteral">'title'</span>: <span class="stringliteral">'SHIPWRECK!'</span>,
<a name="l00216"></a>00216             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A ship has wrecked!"""</span>,
<a name="l00217"></a>00217         },
<a name="l00218"></a>00218 
<a name="l00219"></a>00219         26: {
<a name="l00220"></a>00220             <span class="stringliteral">'id'</span>: 26,
<a name="l00221"></a>00221             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00222"></a>00222             <span class="stringliteral">'title'</span>: <span class="stringliteral">'TRAIN CRASH!'</span>,
<a name="l00223"></a>00223             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A train has crashed!"""</span>,
<a name="l00224"></a>00224         },
<a name="l00225"></a>00225 
<a name="l00226"></a>00226         27: {
<a name="l00227"></a>00227             <span class="stringliteral">'id'</span>: 27,
<a name="l00228"></a>00228             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00229"></a>00229             <span class="stringliteral">'title'</span>: <span class="stringliteral">'HELICOPTER CRASH!'</span>,
<a name="l00230"></a>00230             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A helicopter has crashed!"""</span>,
<a name="l00231"></a>00231         },
<a name="l00232"></a>00232 
<a name="l00233"></a>00233         30: {
<a name="l00234"></a>00234             <span class="stringliteral">'id'</span>: 30,
<a name="l00235"></a>00235             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00236"></a>00236             <span class="stringliteral">'title'</span>: <span class="stringliteral">'FIREBOMBING REPORTED!'</span>,
<a name="l00237"></a>00237             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Firebombs are falling!!"""</span>,
<a name="l00238"></a>00238         },
<a name="l00239"></a>00239 
<a name="l00240"></a>00240         <span class="comment"># TODO: 32 explosion detected</span>
<a name="l00241"></a>00241 
<a name="l00242"></a>00242         35: {
<a name="l00243"></a>00243             <span class="stringliteral">'id'</span>: 35,
<a name="l00244"></a>00244             <span class="stringliteral">'color'</span>: 0x7fff7f,
<a name="l00245"></a>00245             <span class="stringliteral">'title'</span>: <span class="stringliteral">'TOWN'</span>,
<a name="l00246"></a>00246             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Congratulations, your village has grown to town status. You now have 2,000 citizens."""</span>,
<a name="l00247"></a>00247         },
<a name="l00248"></a>00248 
<a name="l00249"></a>00249         36: {
<a name="l00250"></a>00250             <span class="stringliteral">'id'</span>: 36,
<a name="l00251"></a>00251             <span class="stringliteral">'color'</span>: 0x7fff7f,
<a name="l00252"></a>00252             <span class="stringliteral">'title'</span>: <span class="stringliteral">'CITY'</span>,
<a name="l00253"></a>00253             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Your town has grown into a full sized city, with a current population of 10,000. Keep up the good work!"""</span>,
<a name="l00254"></a>00254         },
<a name="l00255"></a>00255 
<a name="l00256"></a>00256         37: {
<a name="l00257"></a>00257             <span class="stringliteral">'id'</span>: 37,
<a name="l00258"></a>00258             <span class="stringliteral">'color'</span>: 0x7fff7f,
<a name="l00259"></a>00259             <span class="stringliteral">'title'</span>: <span class="stringliteral">'CAPITAL'</span>,
<a name="l00260"></a>00260             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Your city has become a capital. The current population here is 50,000. Your political future looks bright."""</span>,
<a name="l00261"></a>00261         },
<a name="l00262"></a>00262 
<a name="l00263"></a>00263         38: {
<a name="l00264"></a>00264             <span class="stringliteral">'id'</span>: 38,
<a name="l00265"></a>00265             <span class="stringliteral">'color'</span>: 0x7fff7f,
<a name="l00266"></a>00266             <span class="stringliteral">'title'</span>: <span class="stringliteral">'METROPOLIS'</span>,
<a name="l00267"></a>00267             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Your capital city has now achieved the status of metropolis. The current population is 100,000. With your management skills, you should seriously consider running for governor."""</span>,
<a name="l00268"></a>00268         },
<a name="l00269"></a>00269 
<a name="l00270"></a>00270         39: {
<a name="l00271"></a>00271             <span class="stringliteral">'id'</span>: 39,
<a name="l00272"></a>00272             <span class="stringliteral">'color'</span>: 0x7fff7f,
<a name="l00273"></a>00273             <span class="stringliteral">'title'</span>: <span class="stringliteral">'MEGALOPOLIS'</span>,
<a name="l00274"></a>00274             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Congratulation, you have reached the highest category of urban development, the megalopolis.</span>
<a name="l00275"></a>00275 <span class="stringliteral"></span>
<a name="l00276"></a>00276 <span class="stringliteral">If you manage to reach this level, send us email at micropolis@laptop.org or send us a copy of your city. We might do something interesting with it."""</span>,
<a name="l00277"></a>00277         },
<a name="l00278"></a>00278 
<a name="l00279"></a>00279         41: {
<a name="l00280"></a>00280             <span class="stringliteral">'id'</span>: 41,
<a name="l00281"></a>00281             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00282"></a>00282             <span class="stringliteral">'title'</span>: <span class="stringliteral">'HEAVY TRAFFIC!'</span>,
<a name="l00283"></a>00283             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Sky Watch One reporting heavy traffic!"""</span>,
<a name="l00284"></a>00284             <span class="stringliteral">'sprite'</span>: micropolisengine.SPRITE_HELICOPTER,
<a name="l00285"></a>00285         },
<a name="l00286"></a>00286 
<a name="l00287"></a>00287         42: {
<a name="l00288"></a>00288             <span class="stringliteral">'id'</span>: 42,
<a name="l00289"></a>00289             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00290"></a>00290             <span class="stringliteral">'title'</span>: <span class="stringliteral">'FLOODING REPORTED!'</span>,
<a name="l00291"></a>00291             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Flooding has been been reported along the water's edge!"""</span>,
<a name="l00292"></a>00292         },
<a name="l00293"></a>00293 
<a name="l00294"></a>00294         43: {
<a name="l00295"></a>00295             <span class="stringliteral">'id'</span>: 43,
<a name="l00296"></a>00296             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00297"></a>00297             <span class="stringliteral">'title'</span>: <span class="stringliteral">'NUCLEAR MELTDOWN!'</span>,
<a name="l00298"></a>00298             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A nuclear meltdown has occured at your power plant. You are advised to avoid the area until the radioactive isotopes decay.</span>
<a name="l00299"></a>00299 <span class="stringliteral"></span>
<a name="l00300"></a>00300 <span class="stringliteral">Many generations will confront this problem before it goes away, so don't hold your breath."""</span>,
<a name="l00301"></a>00301         },
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 
<a name="l00304"></a>00304         44: {
<a name="l00305"></a>00305             <span class="stringliteral">'id'</span>: 44,
<a name="l00306"></a>00306             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00307"></a>00307             <span class="stringliteral">'title'</span>: <span class="stringliteral">'RIOTS!'</span>,
<a name="l00308"></a>00308             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""The citizens are rioting in the streets, setting cars and houses on fire, and bombing government buildings and businesses!</span>
<a name="l00309"></a>00309 <span class="stringliteral"></span>
<a name="l00310"></a>00310 <span class="stringliteral">All media coverage is blacked out, while the fascist pigs beat the poor citizens into submission."""</span>,
<a name="l00311"></a>00311         },
<a name="l00312"></a>00312 
<a name="l00313"></a>00313         45: {
<a name="l00314"></a>00314             <span class="stringliteral">'id'</span>: 48,
<a name="l00315"></a>00315             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00316"></a>00316             <span class="stringliteral">'title'</span>: <span class="stringliteral">'Start a New City'</span>,
<a name="l00317"></a>00317             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Build your very own city from the ground up, starting with this map of uninhabited land."""</span>,
<a name="l00318"></a>00318         },
<a name="l00319"></a>00319 
<a name="l00320"></a>00320         46: {
<a name="l00321"></a>00321             <span class="stringliteral">'id'</span>: 49,
<a name="l00322"></a>00322             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00323"></a>00323             <span class="stringliteral">'title'</span>: <span class="stringliteral">'Restore a Saved City'</span>,
<a name="l00324"></a>00324             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""The city was saved."""</span>,
<a name="l00325"></a>00325         },
<a name="l00326"></a>00326 
<a name="l00327"></a>00327         47: {
<a name="l00328"></a>00328             <span class="stringliteral">'id'</span>: 100,
<a name="l00329"></a>00329             <span class="stringliteral">'color'</span>: 0x7fff7f,
<a name="l00330"></a>00330             <span class="stringliteral">'title'</span>: <span class="stringliteral">'YOU\'RE A WINNER!'</span>,
<a name="l00331"></a>00331             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Your mayorial skill and city planning expertise have earned you the KEY TO THE CITY. Local residents will erect monuments to your glory and name their first-born children after you. Why not run for governor?"""</span>,
<a name="l00332"></a>00332             <span class="stringliteral">'view'</span>: <span class="stringliteral">'todo: show key to the city image'</span>,
<a name="l00333"></a>00333         },
<a name="l00334"></a>00334 
<a name="l00335"></a>00335         48: {
<a name="l00336"></a>00336             <span class="stringliteral">'id'</span>: 200,
<a name="l00337"></a>00337             <span class="stringliteral">'color'</span>: 0xff4f4f,
<a name="l00338"></a>00338             <span class="stringliteral">'title'</span>: <span class="stringliteral">'IMPEACHMENT NOTICE!'</span>,
<a name="l00339"></a>00339             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""The entire population of this city has finally had enough of your inept planning and incompetant management. An angry mob -- led by your mother -- has been spotted in the vicinity of city hall.</span>
<a name="l00340"></a>00340 <span class="stringliteral"></span>
<a name="l00341"></a>00341 <span class="stringliteral">You should seriously consider taking an extended vacation -- NOW. (Or read the manual and try again.)"""</span>,
<a name="l00342"></a>00342             <span class="stringliteral">'view'</span>: <span class="stringliteral">'todo: show impeachment image'</span>,
<a name="l00343"></a>00343         },
<a name="l00344"></a>00344 
<a name="l00345"></a>00345         49: {
<a name="l00346"></a>00346             <span class="stringliteral">'id'</span>: 300,
<a name="l00347"></a>00347             <span class="stringliteral">'color'</span>: 0xffd700,
<a name="l00348"></a>00348             <span class="stringliteral">'title'</span>: <span class="stringliteral">'About Micropolis'</span>,
<a name="l00349"></a>00349             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Micropolis Copyright (C) 2007 by Electronic Arts.</span>
<a name="l00350"></a>00350 <span class="stringliteral">Based on the original SimCity concept, design and code by Will Wright and Fred Haslam.</span>
<a name="l00351"></a>00351 <span class="stringliteral">User Interface Designed and created by Don Hopkins.</span>
<a name="l00352"></a>00352 <span class="stringliteral">Ported to Linux, Optimized and Adapted for OLPC by Don Hopkins.</span>
<a name="l00353"></a>00353 <span class="stringliteral">Licensed under the GNU General Public License, version 3, with additional conditions."""</span>,
<a name="l00354"></a>00354             <span class="stringliteral">'view'</span>: <span class="stringliteral">'todo: show micropolis logo'</span>,
<a name="l00355"></a>00355         },
<a name="l00356"></a>00356 
<a name="l00357"></a>00357         50: {
<a name="l00358"></a>00358             <span class="stringliteral">'id'</span>: 1,
<a name="l00359"></a>00359             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00360"></a>00360             <span class="stringliteral">'title'</span>: <span class="stringliteral">'DULLSVILLE, USA  1900'</span>,
<a name="l00361"></a>00361             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Things haven't changed much around here in the last hundred years or so and the residents are beginning to get bored. They think Dullsville could be the next great city with the right leader.</span>
<a name="l00362"></a>00362 <span class="stringliteral"></span>
<a name="l00363"></a>00363 <span class="stringliteral">It is your job to attract new growth and development, turning Dullsville into a Metropolis within 30 years."""</span>,
<a name="l00364"></a>00364         },
<a name="l00365"></a>00365 
<a name="l00366"></a>00366         51: {
<a name="l00367"></a>00367             <span class="stringliteral">'id'</span>: 2,
<a name="l00368"></a>00368             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00369"></a>00369             <span class="stringliteral">'title'</span>: <span class="stringliteral">'SAN FRANCISCO, CA.  1906'</span>,
<a name="l00370"></a>00370             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Damage from the earthquake was minor compared to that of the ensuing fires, which took days to control. 1500 people died.</span>
<a name="l00371"></a>00371 <span class="stringliteral"></span>
<a name="l00372"></a>00372 <span class="stringliteral">Controlling the fires should be your initial concern. Then clear the rubble and start rebuilding. You have 5 years."""</span>,
<a name="l00373"></a>00373         },
<a name="l00374"></a>00374 
<a name="l00375"></a>00375         52: {
<a name="l00376"></a>00376             <span class="stringliteral">'id'</span>: 3,
<a name="l00377"></a>00377             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00378"></a>00378             <span class="stringliteral">'title'</span>: <span class="stringliteral">'HAMBURG, GERMANY  1944'</span>,
<a name="l00379"></a>00379             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Allied fire-bombing of German cities in WWII caused tremendous damage and loss of life. People living in the inner cities were at greatest risk.</span>
<a name="l00380"></a>00380 <span class="stringliteral"></span>
<a name="l00381"></a>00381 <span class="stringliteral">You must control the firestorms during the bombing and then rebuild the city after the war. You have 5 years."""</span>,
<a name="l00382"></a>00382         },
<a name="l00383"></a>00383 
<a name="l00384"></a>00384         53: {
<a name="l00385"></a>00385             <span class="stringliteral">'id'</span>: 4,
<a name="l00386"></a>00386             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00387"></a>00387             <span class="stringliteral">'title'</span>: <span class="stringliteral">'BERN, SWITZERLAND  1965'</span>,
<a name="l00388"></a>00388             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""The roads here are becoming more congested every day, and the residents are upset. They demand that you do something about it.</span>
<a name="l00389"></a>00389 <span class="stringliteral"></span>
<a name="l00390"></a>00390 <span class="stringliteral">Some have suggested a mass transit system as the answer, but this would require major rezoning in the downtown area. You have 10 years."""</span>,
<a name="l00391"></a>00391         },
<a name="l00392"></a>00392 
<a name="l00393"></a>00393         54: {
<a name="l00394"></a>00394             <span class="stringliteral">'id'</span>: 5,
<a name="l00395"></a>00395             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00396"></a>00396             <span class="stringliteral">'title'</span>: <span class="stringliteral">'TOKYO, JAPAN  1957'</span>,
<a name="l00397"></a>00397             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A large reptilian creature has been spotted heading for Tokyo bay. It seems to be attracted to the heavy levels of industrial pollution there.</span>
<a name="l00398"></a>00398 <span class="stringliteral"></span>
<a name="l00399"></a>00399 <span class="stringliteral">Try to control the fires, then rebuild the industrial center. You have 5 years."""</span>,
<a name="l00400"></a>00400         },
<a name="l00401"></a>00401 
<a name="l00402"></a>00402         55: {
<a name="l00403"></a>00403             <span class="stringliteral">'id'</span>: 6,
<a name="l00404"></a>00404             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00405"></a>00405             <span class="stringliteral">'title'</span>: <span class="stringliteral">'DETROIT, MI.  1972'</span>,
<a name="l00406"></a>00406             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""By 1970, competition from overseas and other economic factors pushed the once "automobile capital of the world" into recession. Plummeting land values and unemployment then increased crime in the inner-city to chronic levels.</span>
<a name="l00407"></a>00407 <span class="stringliteral"></span>
<a name="l00408"></a>00408 <span class="stringliteral">You have 10 years to reduce crime and rebuild the industrial base of the city."""</span>
<a name="l00409"></a>00409         },
<a name="l00410"></a>00410 
<a name="l00411"></a>00411         56: {
<a name="l00412"></a>00412             <span class="stringliteral">'id'</span>: 7,
<a name="l00413"></a>00413             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00414"></a>00414             <span class="stringliteral">'title'</span>: <span class="stringliteral">'BOSTON, MA.  2010'</span>,
<a name="l00415"></a>00415             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A major meltdown is about to occur at one of the new downtown nuclear reactors. The area in the vicinity of the reactor will be severly contaminated by radiation, forcing you to restructure the city around it.</span>
<a name="l00416"></a>00416 <span class="stringliteral"></span>
<a name="l00417"></a>00417 <span class="stringliteral">You have 5 years to get the situation under control."""</span>,
<a name="l00418"></a>00418         },
<a name="l00419"></a>00419 
<a name="l00420"></a>00420         57: {
<a name="l00421"></a>00421             <span class="stringliteral">'id'</span>: 8,
<a name="l00422"></a>00422             <span class="stringliteral">'color'</span>: 0x7f7fff,
<a name="l00423"></a>00423             <span class="stringliteral">'title'</span>: <span class="stringliteral">'RIO DE JANEIRO, BRAZIL  2047'</span>,
<a name="l00424"></a>00424             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""In the mid-21st century, the greenhouse effect raised global temperatures 6 degrees F. Polar icecaps melted and raised sea levels worldwide. Coastal areas were devastated by flood and erosion.</span>
<a name="l00425"></a>00425 <span class="stringliteral"></span>
<a name="l00426"></a>00426 <span class="stringliteral">You have 10 years to turn this swamp back into a city again."""</span>,
<a name="l00427"></a>00427         },
<a name="l00428"></a>00428 
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430 
<a name="l00431"></a>00431 
<a name="l00432"></a>00432     scenarios = [
<a name="l00433"></a>00433         <span class="keywordtype">None</span>, <span class="comment"># SC_NONE</span>
<a name="l00434"></a>00434         {
<a name="l00435"></a>00435             <span class="stringliteral">'id'</span>: micropolisengine.SC_DULLSVILLE,
<a name="l00436"></a>00436             <span class="stringliteral">'title'</span>: <span class="stringliteral">'Dullsville, USA  1900'</span>,
<a name="l00437"></a>00437             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Things haven't changed much around here in the last hundred years or so and the residents are beginning to get bored. They think Dullsville could be the next great city with the right leader.</span>
<a name="l00438"></a>00438 <span class="stringliteral"></span>
<a name="l00439"></a>00439 <span class="stringliteral">It is your job to attract new growth and development, turning Dullsville into a Metropolis within 30 years."""</span>,
<a name="l00440"></a>00440         },
<a name="l00441"></a>00441         {
<a name="l00442"></a>00442             <span class="stringliteral">'id'</span>: micropolisengine.SC_SAN_FRANCISCO,
<a name="l00443"></a>00443             <span class="stringliteral">'title'</span>: <span class="stringliteral">'San Francisco, CA.  1906'</span>,
<a name="l00444"></a>00444             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Damage from the earthquake was minor compared to that of the ensuing fires, which took days to control. 1500 people died.</span>
<a name="l00445"></a>00445 <span class="stringliteral"></span>
<a name="l00446"></a>00446 <span class="stringliteral">Controlling the fires should be your initial concern. Then clear the rubble and start rebuilding. You have 5 years."""</span>,
<a name="l00447"></a>00447         },
<a name="l00448"></a>00448         {
<a name="l00449"></a>00449             <span class="stringliteral">'id'</span>: micropolisengine.SC_HAMBURG,
<a name="l00450"></a>00450             <span class="stringliteral">'title'</span>: <span class="stringliteral">'Hamburg, Germany  1944'</span>,
<a name="l00451"></a>00451             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""Allied fire-bombing of German cities in WWII caused tremendous damage and loss of life. People living in the inner cities were at greatest risk.</span>
<a name="l00452"></a>00452 <span class="stringliteral"></span>
<a name="l00453"></a>00453 <span class="stringliteral">You must control the firestorms during the bombing and then rebuild the city after the war. You have 5 years."""</span>,
<a name="l00454"></a>00454         },
<a name="l00455"></a>00455         {
<a name="l00456"></a>00456             <span class="stringliteral">'id'</span>: micropolisengine.SC_BERN,
<a name="l00457"></a>00457             <span class="stringliteral">'title'</span>: <span class="stringliteral">'Bern, Switzerland  1965'</span>,
<a name="l00458"></a>00458             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""The roads here are becoming more congested every day, and the residents are upset. They demand that you do something about it.</span>
<a name="l00459"></a>00459 <span class="stringliteral"></span>
<a name="l00460"></a>00460 <span class="stringliteral">Some have suggested a mass transit system as the answer, but this would require major rezoning in the downtown area. You have 10 years."""</span>,
<a name="l00461"></a>00461         },
<a name="l00462"></a>00462         {
<a name="l00463"></a>00463             <span class="stringliteral">'id'</span>: micropolisengine.SC_TOKYO,
<a name="l00464"></a>00464             <span class="stringliteral">'title'</span>: <span class="stringliteral">'Tokyo, Japan  1957'</span>,
<a name="l00465"></a>00465             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A large reptilian creature has been spotted heading for Tokyo bay. It seems to be attracted to the heavy levels of industrial pollution there.</span>
<a name="l00466"></a>00466 <span class="stringliteral"></span>
<a name="l00467"></a>00467 <span class="stringliteral">Try to control the fires, then rebuild the industrial center. You have 5 years."""</span>,
<a name="l00468"></a>00468         },
<a name="l00469"></a>00469         {
<a name="l00470"></a>00470             <span class="stringliteral">'id'</span>: micropolisengine.SC_DETROIT,
<a name="l00471"></a>00471             <span class="stringliteral">'title'</span>: <span class="stringliteral">'Detroit, MI.  1972'</span>,
<a name="l00472"></a>00472             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""By 1970, competition from overseas and other economic factors pushed the once "automobile capital of the world" into recession. Plummeting land values and unemployment then increased crime in the inner-city to chronic levels.</span>
<a name="l00473"></a>00473 <span class="stringliteral"></span>
<a name="l00474"></a>00474 <span class="stringliteral">You have 10 years to reduce crime and rebuild the industrial base of the city."""</span>
<a name="l00475"></a>00475         },
<a name="l00476"></a>00476         {
<a name="l00477"></a>00477             <span class="stringliteral">'id'</span>: micropolisengine.SC_BOSTON,
<a name="l00478"></a>00478             <span class="stringliteral">'title'</span>: <span class="stringliteral">'Boston, MA.  2010'</span>,
<a name="l00479"></a>00479             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""A major meltdown is about to occur at one of the new downtown nuclear reactors. The area in the vicinity of the reactor will be severly contaminated by radiation, forcing you to restructure the city around it.</span>
<a name="l00480"></a>00480 <span class="stringliteral"></span>
<a name="l00481"></a>00481 <span class="stringliteral">You have 5 years to get the situation under control."""</span>,
<a name="l00482"></a>00482         },
<a name="l00483"></a>00483         {
<a name="l00484"></a>00484             <span class="stringliteral">'id'</span>: micropolisengine.SC_RIO,
<a name="l00485"></a>00485             <span class="stringliteral">'title'</span>: <span class="stringliteral">'Rio de Janeiro, Brazil  2047'</span>,
<a name="l00486"></a>00486             <span class="stringliteral">'description'</span>: <span class="stringliteral">"""In the mid-21st century, the greenhouse effect raised global temperatures 6 degrees F. Polar icecaps melted and raised sea levels worldwide. Coastal areas were devastated by flood and erosion.</span>
<a name="l00487"></a>00487 <span class="stringliteral"></span>
<a name="l00488"></a>00488 <span class="stringliteral">You have 10 years to turn this swamp back into a city again."""</span>,
<a name="l00489"></a>00489         },
<a name="l00490"></a>00490     ]
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 
<a name="l00493"></a>00493     <span class="keyword">def </span>__init__(self, *args, **kw):
<a name="l00494"></a>00494 
<a name="l00495"></a>00495         micropolisgenericengine.MicropolisGenericEngine.__init__(self, *args, **kw)
<a name="l00496"></a>00496 
<a name="l00497"></a>00497         <span class="comment"># This must be called at the end of the concrete subclass's</span>
<a name="l00498"></a>00498         <span class="comment"># init, so it happens last.</span>
<a name="l00499"></a>00499         self.initGamePython()
<a name="l00500"></a>00500 
<a name="l00501"></a>00501 
<a name="l00502"></a>00502     <span class="keyword">def </span>__repr__(self):
<a name="l00503"></a>00503         <span class="keywordflow">return</span> <span class="stringliteral">"&lt;MicropolisGTKEngine&gt;"</span>
<a name="l00504"></a>00504 
<a name="l00505"></a>00505 
<a name="l00506"></a>00506     <span class="keyword">def </span>startTimer(
<a name="l00507"></a>00507         self):
<a name="l00508"></a>00508 
<a name="l00509"></a>00509         <span class="keywordflow">if</span> self.timerActive:
<a name="l00510"></a>00510             <span class="keywordflow">return</span>
<a name="l00511"></a>00511 
<a name="l00512"></a>00512         self.timerId = gobject.timeout_add(self.timeDelay, self.tickTimer)
<a name="l00513"></a>00513         self.timerActive = <span class="keyword">True</span>
<a name="l00514"></a>00514 
<a name="l00515"></a>00515 
<a name="l00516"></a>00516     <span class="keyword">def </span>stopTimer(
<a name="l00517"></a>00517         self):
<a name="l00518"></a>00518 
<a name="l00519"></a>00519         <span class="comment"># FIXME: Is there some way to immediately cancel self.timerId?</span>
<a name="l00520"></a>00520 
<a name="l00521"></a>00521         self.timerActive = <span class="keyword">False</span>
<a name="l00522"></a>00522 
<a name="l00523"></a>00523 
<a name="l00524"></a>00524     <span class="keyword">def </span>tickTimer(
<a name="l00525"></a>00525         self):
<a name="l00526"></a>00526 
<a name="l00527"></a>00527         <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.timerActive:
<a name="l00528"></a>00528             <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00529"></a>00529 
<a name="l00530"></a>00530         self.stopTimer()
<a name="l00531"></a>00531 
<a name="l00532"></a>00532         self.tickEngine()
<a name="l00533"></a>00533 
<a name="l00534"></a>00534         <span class="keywordflow">if</span> self.running:
<a name="l00535"></a>00535             self.startTimer()
<a name="l00536"></a>00536 
<a name="l00537"></a>00537         <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00538"></a>00538 
<a name="l00539"></a>00539 
<a name="l00540"></a>00540     <span class="keyword">def </span>tickEngine(self):
<a name="l00541"></a>00541 
<a name="l00542"></a>00542         self.simTick()
<a name="l00543"></a>00543         <span class="keywordflow">if</span> self.doAnimation <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.tilesAnimated:
<a name="l00544"></a>00544             self.animateTiles()
<a name="l00545"></a>00545 
<a name="l00546"></a>00546         self.simUpdate()
<a name="l00547"></a>00547 
<a name="l00548"></a>00548         self.sendUpdate(<span class="stringliteral">'tick'</span>)
<a name="l00549"></a>00549         self.sendUpdate(<span class="stringliteral">'editor'</span>)
<a name="l00550"></a>00550         self.sendUpdate(<span class="stringliteral">'map'</span>)
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 
<a name="l00553"></a>00553     <span class="keyword">def </span>handle_didGenerateMap(self):
<a name="l00554"></a>00554         <span class="keywordflow">print</span> <span class="stringliteral">"handle_didGenerateMap(self)"</span>, (self,)
<a name="l00555"></a>00555         self.sendUpdate(<span class="stringliteral">'tick'</span>)
<a name="l00556"></a>00556         self.sendUpdate(<span class="stringliteral">'editor'</span>)
<a name="l00557"></a>00557         self.sendUpdate(<span class="stringliteral">'map'</span>)
<a name="l00558"></a>00558 
<a name="l00559"></a>00559 
<a name="l00560"></a>00560     <span class="keyword">def </span>handle_didLoadCity(self):
<a name="l00561"></a>00561         <span class="keywordflow">print</span> <span class="stringliteral">"handle_didLoadCity(self)"</span>, (self,)
<a name="l00562"></a>00562         self.sendUpdate(<span class="stringliteral">'tick'</span>)
<a name="l00563"></a>00563         self.sendUpdate(<span class="stringliteral">'editor'</span>)
<a name="l00564"></a>00564         self.sendUpdate(<span class="stringliteral">'map'</span>)
<a name="l00565"></a>00565 
<a name="l00566"></a>00566 
<a name="l00567"></a>00567     <span class="keyword">def </span>handle_didLoadScenario(self):
<a name="l00568"></a>00568         <span class="keywordflow">print</span> <span class="stringliteral">"handle_didLoadScenario(self)"</span>, (self,)
<a name="l00569"></a>00569         self.sendUpdate(<span class="stringliteral">'tick'</span>)
<a name="l00570"></a>00570         self.sendUpdate(<span class="stringliteral">'editor'</span>)
<a name="l00571"></a>00571         self.sendUpdate(<span class="stringliteral">'map'</span>)
<a name="l00572"></a>00572 
<a name="l00573"></a>00573 
<a name="l00574"></a>00574     <span class="keyword">def </span>handle_simulateChurch(self, x, y, tile):
<a name="l00575"></a>00575         <span class="keywordflow">pass</span>
<a name="l00576"></a>00576 
<a name="l00577"></a>00577 
<a name="l00578"></a>00578 <span class="comment">########################################################################</span>
<a name="l00579"></a>00579 
<a name="l00580"></a>00580 
<a name="l00581"></a>00581 <span class="keyword">def </span>CreateGTKEngine(**params):
<a name="l00582"></a>00582 
<a name="l00583"></a>00583     <span class="comment"># Get our nice scriptable subclass of the SWIG Micropolis wrapper object.</span>
<a name="l00584"></a>00584     engine = MicropolisGTKEngine(**params)
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <span class="keywordflow">return</span> engine
<a name="l00587"></a>00587 
<a name="l00588"></a>00588 
<a name="l00589"></a>00589 <span class="comment">########################################################################</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Feb 2 09:19:22 2011 for Micropolis by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
